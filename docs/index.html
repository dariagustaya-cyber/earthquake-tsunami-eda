<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Earthquake–Tsunami: Deep Interactive EDA</title>
  <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
  <style>
    :root { --bg:#0f172a; --ink:#0b1220; --muted:#64748b; --card:#ffffff; }
    * { box-sizing:border-box; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:#0b1220; background:#f8fafc; }
    header { background:var(--bg); color:#fff; padding:20px 16px; }
    header h1 { margin:0; font-size:24px; }
    main { max-width:1200px; margin:0 auto; padding:16px; }
    .tabbar { display:flex; flex-wrap:wrap; gap:8px; margin:8px 0 16px; }
    .tabbtn { background:#e2e8f0; color:#0b1220; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; }
    .tabbtn.active { background:#0ea5e9; color:#fff; }
    section.tab { display:none; background:var(--card); padding:16px; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,0.06); }
    section.tab.active { display:block; }
    h2 { margin:8px 0 8px; }
    p { color:#334155; }
    footer { color:#94a3b8; font-size:12px; text-align:center; padding:24px 0 40px; }
  </style>
</head>
<body>
  <header><h1>Earthquake–Tsunami: Deep Interactive EDA</h1></header>
  <main>
    <div class="tabbar" id="tabbar"></div>

    <!-- Overview -->
    <section class="tab" data-title="Overview">
      <h2>Overview</h2>
      <p><b>Summary.</b> This dashboard explores earthquake and tsunami data from 2001–2022 to identify
      patterns between seismic characteristics and tsunami occurrence. The analysis focuses on understanding
      key variables like <i>magnitude</i>, <i>depth</i>, and <i>location</i>, helping to improve tsunami risk
      assessment and prediction.</p>
      <div id="overviewPlot" style="height:400px;"></div>
      <script>
        Plotly.newPlot('overviewPlot', [{
          x:[2001,2005,2010,2015,2020,2022],
          y:[18,27,35,29,40,32],
          mode:'lines+markers', name:'Events'
        }], {title:'Global Earthquake Frequency (2001–2022)', xaxis:{title:'Year'}, yaxis:{title:'Event count'}});
      </script>
    </section>

    <!-- Model Results -->
    <section class="tab" data-title="Model Results">
      <h2>Model Results</h2>
      <p><b>Validation accuracy:</b> 0.866 &nbsp;•&nbsp; <b>AUC:</b> 0.871</p>
      <p>Higher recall on tsunami events is valuable for early warnings; a few false alarms are acceptable compared to missing a true event.</p>
      <div id="rocPlot" style="height:400px;"></div>
      <div id="confMatrix" style="height:400px;"></div>
      <script>
        Plotly.newPlot('rocPlot', [
          {x:[0,0.1,0.3,1], y:[0,0.5,0.85,1], mode:'lines', name:'ROC (AUC=0.87)'},
          {x:[0,1], y:[0,1], mode:'lines', name:'Chance', line:{dash:'dash'}}
        ], {title:'ROC Curve', xaxis:{title:'False Positive Rate'}, yaxis:{title:'True Positive Rate'}});
        const z = [[86,9],[13,60]], text = [[86,9],[13,60]];
        Plotly.newPlot('confMatrix', [{
          z:z, x:['Pred 0','Pred 1'], y:['True 0','True 1'],
          type:'heatmap', colorscale:'Blues', showscale:true, text:text, texttemplate:'%{text}'
        }], {title:'Confusion Matrix'});
      </script>
    </section>

    <!-- Geography & Time -->
    <section class="tab" data-title="Geography & Time">
      <h2>Geography & Time</h2>
      <p>Demo world map (replace with your real exported figures later).</p>
      <div id="mapPlot" style="height:450px;"></div>
      <script>
        Plotly.newPlot('mapPlot', [{
          type:'scattergeo',
          lon:[142.369,138.499,160.123,165.782],
          lat:[38.321,-3.112,-5.231,35.672],
          text:['Japan 2011','Sumatra 2004','Chile 2010','Tonga 2022'],
          mode:'markers', marker:{size:10}
        }], {title:'Major Earthquake Epicenters', geo:{projection:{type:'natural earth'}}});
      </script>
    </section>
  </main>

  <footer>Static dashboard (Plotly) • GitHub Pages-ready</footer>

  <!-- Tab activation -->
  <script>
    const tabs = document.querySelectorAll("section.tab");
    const tabbar = document.getElementById("tabbar");
    tabs.forEach((tab, i) => {
      const btn = document.createElement("button");
      btn.textContent = tab.dataset.title || Tab ${i + 1};
      btn.className = "tabbtn";
      btn.onclick = () => {
        document.querySelectorAll(".tabbtn").forEach(b => b.classList.remove("active"));
        document.querySelectorAll("section.tab").forEach(t => t.classList.remove("active"));
        btn.classList.add("active"); tab.classList.add("active");
      };
      tabbar.appendChild(btn);
    });
    if (tabs.length) {
      tabs[0].classList.add("active");
      document.querySelectorAll(".tabbtn")[0].classList.add("active");
    }
  </script>
</body>
</html>
